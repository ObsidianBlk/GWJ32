[gd_scene load_steps=12 format=2]

[ext_resource path="res://assets/environments/environment_001.hdr" type="Texture" id=1]
[ext_resource path="res://objects/door/Door.tscn" type="PackedScene" id=2]
[ext_resource path="res://meshlibs/isisian_level.meshlib" type="MeshLibrary" id=3]
[ext_resource path="res://objects/anubus/Anubus.tscn" type="PackedScene" id=4]
[ext_resource path="res://objects/tools/wanderspace/WanderSpace.gd" type="Script" id=5]
[ext_resource path="res://scripts/Enemy.gd" type="Script" id=6]
[ext_resource path="res://objects/tools/wanderspace/WanderSpace.tscn" type="PackedScene" id=7]
[ext_resource path="res://objects/door/Door.gd" type="Script" id=8]

[sub_resource type="NavigationMesh" id=1]
vertices = PoolVector3Array( -8.7, 0.35, -8.3, -6.6, 0.35, -8.3, -7.5, 0.35, -8.9, 12, 0.35, -20.6, 12.6, 0.35, -20, 12.6, 0.35, -25.7, -8.7, 0.35, -17, -8.7, 0.35, -8.3, -7.5, 0.35, -8.9, -7.5, 0.35, -20, 2.4, 0.35, -20.6, 12, 0.35, -20.6, 12.6, 0.35, -25.7, 1.8, 0.35, -25.7, -8.7, 0.35, -25.7, -8.7, 0.35, -17, -7.5, 0.35, -20, -8.7, 0.35, -25.7, -7.5, 0.35, -20, -6.9, 0.35, -20.6, 1.8, 0.35, -25.7, -8.7, 0.35, -25.7, -6.9, 0.35, -20.6, 2.4, 0.35, -20.6, 3.6, 0.35, -8.3, 3.6, 0.35, -10.4, 2.7, 0.35, -10.7, -5.4, 0.35, -9.2, -5.7, 0.55, -8.3, -6.6, 0.35, -9.5, -5.4, 0.35, -9.2, 2.7, 0.35, -10.7, 2.7, 0.55, -19.7, -6.6, 0.55, -19.7, 2.7, 0.55, -16.7, 6.6, 0.35, -3.2, 6.6, 0.35, -1.4, 7.5, 0.35, -1.4, 7.5, 0.35, -4.1, 6.6, 0.35, -8, 6.6, 0.35, -6.8, 7.5, 0.35, -6.8, 7.5, 0.35, -8, 4.5, 0.35, -10.7, 3.6, 0.35, -10.4, 3.6, 0.35, -8.3, 6.6, 0.35, -8, 7.5, 0.35, -4.1, 8.7, 0.35, -4.4, 8.7, 0.35, -6.5, 7.5, 0.35, -6.8, 11.1, 0.35, -14.3, 11.7, 0.35, -14.6, 11.7, 0.55, -19.7, 11.7, 0.55, -16.3, 4.8, 0.35, -4.4, 6.6, 0.35, -3.2, 7.5, 0.35, -4.1, 7.5, 0.35, -6.8, 6.6, 0.35, -6.8, 4.8, 0.35, -5.6, 4.5, 0.35, -10.7, 6.6, 0.35, -8, 7.5, 0.35, -8, 11.1, 0.35, -14.3, 11.7, 0.55, -19.7, 4.2, 0.35, -19.4, 11.7, 0.55, -8.3, 11.7, 0.35, -13.4, 11.1, 0.35, -14.3, 7.5, 0.35, -8, 5.7, 0.35, -2.6, 4.5, 0.35, -2.6, 4.5, 0.35, -1.4, 5.4, 0.35, -1.1, 12.6, 0.35, -8, 12, 0.35, -7.4, 9.6, 0.35, -3.8, 8.1, 0.35, -0.499998, 12.6, 0.35, 1.6, 6, 0.35, -0.499998, 5.7, 0.35, -2.6, 5.4, 0.35, -1.1, 5.4, 0.35, 1.6, 12, 0.35, -7.4, 9.6, 0.35, -7.4, 9.6, 0.35, -3.8, 8.1, 0.35, -0.499998, 6, 0.35, -0.499998, 5.4, 0.35, 1.6, 12.6, 0.35, 1.6, 9.6, 0.35, -3.8, 8.4, 0.35, -3.5, 8.1, 0.35, -0.499998, 4.5, 0.35, 1.6, 4.5, 0.35, -0.499998, 3.6, 0.35, -0.799999, -2.1, 0.35, 1.6, 3.6, 0.35, -3.2, 4.8, 0.35, -4.4, 4.8, 0.35, -5.6, 3.6, 0.35, -3.2, 4.8, 0.35, -5.6, 3.6, 0.35, -7.4, -8.4, 0.35, -7.4, -8.4, 0.35, 1.6, -2.1, 0.35, 1.6, -2.1, 0.35, 1.6, 3.6, 0.35, -0.799999, 3.6, 0.35, -3.2 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 5, 4, 3 ), PoolIntArray( 7, 6, 8 ), PoolIntArray( 8, 6, 9 ), PoolIntArray( 10, 13, 11 ), PoolIntArray( 11, 13, 12 ), PoolIntArray( 16, 15, 14 ), PoolIntArray( 19, 18, 17 ), PoolIntArray( 23, 22, 20 ), PoolIntArray( 20, 22, 21 ), PoolIntArray( 25, 24, 26 ), PoolIntArray( 26, 24, 27 ), PoolIntArray( 27, 24, 28 ), PoolIntArray( 30, 29, 31 ), PoolIntArray( 31, 29, 34 ), PoolIntArray( 34, 29, 32 ), PoolIntArray( 32, 29, 33 ), PoolIntArray( 36, 35, 37 ), PoolIntArray( 37, 35, 38 ), PoolIntArray( 42, 41, 39 ), PoolIntArray( 39, 41, 40 ), PoolIntArray( 44, 43, 45 ), PoolIntArray( 45, 43, 46 ), PoolIntArray( 49, 48, 50 ), PoolIntArray( 50, 48, 47 ), PoolIntArray( 52, 51, 54 ), PoolIntArray( 54, 51, 53 ), PoolIntArray( 59, 58, 60 ), PoolIntArray( 60, 58, 55 ), PoolIntArray( 55, 58, 57 ), PoolIntArray( 55, 57, 56 ), PoolIntArray( 62, 61, 63 ), PoolIntArray( 63, 61, 64 ), PoolIntArray( 64, 61, 65 ), PoolIntArray( 65, 61, 66 ), PoolIntArray( 68, 67, 69 ), PoolIntArray( 69, 67, 70 ), PoolIntArray( 73, 72, 74 ), PoolIntArray( 74, 72, 71 ), PoolIntArray( 76, 75, 77 ), PoolIntArray( 77, 75, 78 ), PoolIntArray( 78, 75, 79 ), PoolIntArray( 81, 80, 82 ), PoolIntArray( 82, 80, 83 ), PoolIntArray( 86, 85, 84 ), PoolIntArray( 88, 87, 89 ), PoolIntArray( 89, 87, 90 ), PoolIntArray( 93, 92, 91 ), PoolIntArray( 95, 94, 96 ), PoolIntArray( 96, 94, 97 ), PoolIntArray( 100, 99, 98 ), PoolIntArray( 102, 101, 103 ), PoolIntArray( 103, 101, 106 ), PoolIntArray( 103, 106, 105 ), PoolIntArray( 103, 105, 104 ), PoolIntArray( 109, 108, 107 ) ]
geometry/parsed_geometry_type = 2
geometry/collision_mask = 4293918723
agent/height = 1.08
agent/radius = 0.22

[sub_resource type="PanoramaSky" id=2]
radiance_size = 0
panorama = ExtResource( 1 )

[sub_resource type="Environment" id=3]
background_mode = 3
background_sky = SubResource( 2 )
ambient_light_color = Color( 0.623529, 0.631373, 0.376471, 1 )
ambient_light_energy = 0.12
ambient_light_sky_contribution = 0.51

[node name="TestLevel" type="Spatial"]

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 1 )

[node name="Floors" type="GridMap" parent="Navigation/NavigationMeshInstance"]
mesh_library = ExtResource( 3 )
cell_size = Vector3( 1, 0.25, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PoolIntArray( 0, 1, 537919489, 2, 1, 537919489, 4, 1, 537919489, 6, 1, 537919489, 8, 1, 537919489, 10, 1, 537919489, 12, 1, 537919489, 65528, 1, 537919489, 65530, 1, 537919489, 65532, 1, 537919489, 65534, 1, 537919489, 851968, 1, 536870920, 851970, 1, 536870920, 851972, 1, 536870920, 917496, 1, 536870920, 917498, 1, 536870920, 917500, 1, 536870920, 917502, 1, 536870920, 0, 65511, 537919489, 2, 65511, 537919489, 4, 65511, 537919489, 6, 65511, 537919489, 8, 65511, 537919489, 10, 65511, 537919489, 12, 65511, 537919489, 65528, 65511, 1048577, 65530, 65511, 1048577, 65532, 65511, 537919489, 65534, 65511, 537919489, 0, 65513, 537919489, 2, 65513, 537919489, 4, 65513, 537919489, 6, 65513, 1048577, 8, 65513, 1048577, 10, 65513, 1048577, 12, 65513, 1048577, 65528, 65513, 1048577, 65530, 65513, 1048577, 65532, 65513, 1048577, 65534, 65513, 1048577, 0, 65515, 1048577, 2, 65515, 1048577, 4, 65515, 1048577, 6, 65515, 1048577, 8, 65515, 1048577, 10, 65515, 1048577, 12, 65515, 1048577, 65528, 65515, 1048577, 65530, 65515, 1048577, 65532, 65515, 1048577, 65534, 65515, 1048577, 0, 65517, 1048577, 2, 65517, 1048577, 4, 65517, 1074790401, 6, 65517, -1072693247, 8, 65517, -1609564159, 10, 65517, 1048577, 12, 65517, 1048577, 65528, 65517, 1048577, 65530, 65517, -1072693247, 65532, 65517, 1048577, 65534, 65517, 1048577, 0, 65519, 1074790401, 2, 65519, 1048577, 4, 65519, -1609564159, 6, 65519, 1048577, 8, 65519, 1048577, 10, 65519, 1074790401, 12, 65519, -1072693247, 65528, 65519, -1609564159, 65530, 65519, 1048577, 65532, 65519, 1048577, 65534, 65519, 1048577, 0, 65521, 1048577, 2, 65521, 1074790401, 4, 65521, 1048577, 6, 65521, -1609564159, 8, 65521, 1048577, 10, 65521, -1609564159, 12, 65521, 1048577, 65528, 65521, -1072693247, 65530, 65521, -1609564159, 65532, 65521, 1048577, 65534, 65521, 1048577, 0, 65523, 1048577, 2, 65523, -1072693247, 4, 65523, 1048577, 6, 65523, 1048577, 8, 65523, 1074790401, 10, 65523, 1048577, 12, 65523, 1048577, 65528, 65523, -1072693247, 65530, 65523, 1048577, 65532, 65523, 537919489, 65534, 65523, 1048577, 0, 65525, 1048577, 2, 65525, 1074790401, 4, 65525, 1048577, 6, 65525, 1048577, 8, 65525, -1072693247, 10, 65525, 1048577, 12, 65525, 537919489, 65528, 65525, 1048577, 65530, 65525, 1048577, 65532, 65525, 1074790401, 65534, 65525, 1048577, 0, 65527, -1609564159, 2, 65527, 1048577, 4, 65527, 1048577, 6, 65527, 1074790401, 8, 65527, -1072693247, 10, 65527, -1609564159, 12, 65527, 1048577, 65528, 65527, 1048577, 65530, 65527, 1048577, 65532, 65527, -1072693247, 65534, 65527, 1048577, 851974, 65528, 8, 851976, 65528, 1073741832, 0, 65529, 1048577, 2, 65529, 1048577, 4, 65529, 1074790401, 6, 65529, 537919489, 8, 65529, 1048577, 10, 65529, -1609564159, 12, 65529, 1048577, 65528, 65529, 1074790401, 65530, 65529, 1048577, 65532, 65529, 1048577, 65534, 65529, 1074790401, 851968, 65529, 536870920, 851970, 65529, 8, 851972, 65529, -1610612728, 917496, 65529, 8, 917498, 65529, 1073741832, 917500, 65529, 8, 917502, 65529, 8, 851972, 65530, 1073741832, 851974, 65530, 536870920, 851976, 65530, 536870920, 0, 65531, 1048577, 2, 65531, 1048577, 4, 65531, 1074790401, 6, 65531, 1048577, 8, 65531, 1048577, 10, 65531, -1072693247, 12, 65531, 1048577, 65528, 65531, 537919489, 65530, 65531, 1048577, 65532, 65531, 1048577, 65534, 65531, 1074790401, 851968, 65531, 8, 851970, 65531, 8, 851972, 65531, -1073741816, 917496, 65531, 8, 917498, 65531, 536870920, 917500, 65531, 8, 917502, 65531, 8, 851974, 65532, 1073741832, 851976, 65532, 8, 0, 65533, -1609564159, 2, 65533, 1048577, 4, 65533, 1048577, 6, 65533, 1074790401, 8, 65533, -1072693247, 10, 65533, -1609564159, 12, 65533, 1048577, 65528, 65533, 1048577, 65530, 65533, 1048577, 65532, 65533, -1072693247, 65534, 65533, 1048577, 851968, 65533, 8, 851970, 65533, 1073741832, 851972, 65533, 8, 917496, 65533, -1610612728, 917498, 65533, 8, 917500, 65533, 8, 917502, 65533, 1073741832, 851974, 65534, -1073741816, 851976, 65534, -1610612728, 0, 65535, 1048577, 2, 65535, 1048577, 4, 65535, 1048577, 6, 65535, -1072693247, 8, 65535, 1048577, 10, 65535, 1048577, 12, 65535, 1074790401, 65528, 65535, 1048577, 65530, 65535, 1048577, 65532, 65535, -1072693247, 65534, 65535, 1048577, 851968, 65535, 536870920, 851970, 65535, 8, 851972, 65535, 8, 917496, 65535, 1073741832, 917498, 65535, 8, 917500, 65535, 8, 917502, 65535, -1073741816 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 13, 0 )
}

[node name="Walls" type="GridMap" parent="Navigation/NavigationMeshInstance"]
mesh_library = ExtResource( 3 )
cell_size = Vector3( 1, 0.25, 1 )
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PoolIntArray( 5, 0, 1048578, 65527, 0, 1048578, 0, 2, 1074397196, 1, 2, 655362, 2, 2, 655372, 3, 2, 655362, 5, 2, 655363, 65527, 2, 1048579, 65528, 2, 655372, 65529, 2, 655362, 65530, 2, 655372, 65531, 2, 655362, 65532, 2, 655372, 65533, 2, 655362, 65534, 2, 655372, 65535, 2, 655362, 0, 65516, 655374, 1, 65516, 655374, 2, 65516, 655374, 3, 65516, 655374, 4, 65516, 655374, 5, 65516, 655374, 6, 65516, 655374, 7, 65516, 655374, 8, 65516, 655374, 9, 65516, 655374, 10, 65516, 655374, 11, 65516, 655374, 12, 65516, 1048590, 65529, 65516, 655374, 65530, 65516, 655374, 65531, 65516, 655374, 65532, 65516, 655374, 65533, 65516, 655374, 65534, 65516, 655374, 65535, 65516, 655374, 3, 65517, 1048590, 4, 65517, 13, 12, 65517, 1048590, 65529, 65517, 1441806, 3, 65518, 1048590, 4, 65518, -1609170930, 12, 65518, 1048590, 65529, 65518, 1441806, 3, 65519, 1048590, 4, 65519, 1441806, 12, 65519, 1048590, 65529, 65519, 1441806, 3, 65520, 1048590, 4, 65520, 1441806, 12, 65520, 1048590, 65529, 65520, 1441806, 3, 65521, 537919502, 4, 65521, 1441806, 65529, 65521, 1441806, 3, 65522, 537919502, 4, 65522, 538312718, 12, 65522, 1048582, 65529, 65522, 1441806, 3, 65523, 537526285, 4, 65523, -2146041842, 12, 65523, 1048590, 65529, 65523, 1441806, 3, 65524, 1048589, 4, 65524, -536870898, 12, 65524, 1048590, 65529, 65524, 1441806, 3, 65525, 655374, 4, 65525, 1441805, 12, 65525, 1048590, 65529, 65525, 1441806, 12, 65526, 1048590, 65529, 65526, 1441806, 12, 65527, 1048590, 65529, 65527, -2146041842, 65530, 65527, 14, 0, 65528, -2146828276, 1, 65528, 655362, 2, 65528, 655372, 3, 65528, 655362, 4, 65528, 655362, 6, 65528, 15, 8, 65528, 1048591, 9, 65528, 15, 10, 65528, 14, 11, 65528, -2147483634, 12, 65528, 14, 65527, 65528, 3, 65528, 65528, 655372, 65529, 65528, 655362, 65530, 65528, 655372, 65531, 65528, 655362, 65532, 65528, 655372, 65533, 65528, 655362, 65534, 65528, 655372, 65535, 65528, 655362, 4, 65529, 1441796, 5, 65529, 1441796, 6, 65529, 1441807, 8, 65529, 655375, 9, 65529, 1441794, 65527, 65529, 1048588, 9, 65530, 1441794, 65527, 65530, 1048578, 5, 65531, 1441797, 9, 65531, 1441804, 65527, 65531, 1048588, 9, 65532, 536870916, 65527, 65532, 1074790402, 4, 65533, 655364, 6, 65533, 1048580, 8, 65533, 538312706, 65527, 65533, 1074790412, 8, 65534, 1441804, 65527, 65534, 537919490, 4, 65535, 1441796, 5, 65535, 537919500, 6, 65535, 1441796, 8, 65535, 4, 65527, 65535, 1048588 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 3 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.862505, 0.506049, 0, -0.506049, 0.862505, 0, 8.77311, 0 )

[node name="Door" type="Spatial" parent="." instance=ExtResource( 2 )]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 4.87, 0, -5 )
script = ExtResource( 8 )
transition_time = 0.5

[node name="Enemies" type="Spatial" parent="."]

[node name="Anubus" type="KinematicBody" parent="Enemies" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.05, 0 )
collision_layer = 64
collision_mask = 63
script = ExtResource( 6 )
navigation_node_path = NodePath("../../Navigation")
wanderspace_node_path = NodePath("../../WanderSpaces/WS1")
sensor_mask = 16

[node name="Anubus2" type="KinematicBody" parent="Enemies" instance=ExtResource( 4 )]
transform = Transform( -0.475317, 0, -0.879815, 0, 1, 0, 0.879815, 0, -0.475317, -3.37, 0.1, -16.845 )
collision_layer = 64
collision_mask = 63
script = ExtResource( 6 )
navigation_node_path = NodePath("../../Navigation")
wanderspace_node_path = NodePath("../../WanderSpaces/WS2")

[node name="WanderSpaces" type="Spatial" parent="."]

[node name="WS2" type="Spatial" parent="WanderSpaces" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.97257, 0, -15.1363 )
script = ExtResource( 5 )
radius = 4.8

[node name="WS1" type="Spatial" parent="WanderSpaces" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.542222, 0, -2.60271 )
script = ExtResource( 5 )
radius = 4.5
